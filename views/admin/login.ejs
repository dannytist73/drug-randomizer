<div class="flex justify-center items-center min-h-[70vh]">
  <div class="w-full max-w-md bg-white rounded-lg shadow-md p-8">
    <div class="text-center mb-8">
      <h2 class="text-2xl font-bold text-blue-900 mb-2">Admin Login</h2>
      <p class="text-gray-600">Please login to access the admin dashboard</p>
    </div>

    <% if (error) { %>
    <div
      class="bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6 alert-dismissible"
      role="alert"
    >
      <div class="flex items-center">
        <div class="py-1">
          <svg
            class="w-6 h-6 mr-4"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
            ></path>
          </svg>
        </div>
        <div>
          <p><%= error %></p>
        </div>
        <button type="button" class="ml-auto close-alert" aria-label="Close">
          <span class="text-2xl" aria-hidden="true">&times;</span>
        </button>
      </div>
    </div>
    <% } %>

    <form action="/admin/login" method="POST">
      <div class="mb-6">
        <label for="username" class="block text-gray-700 text-sm font-bold mb-2"
          >Username</label
        >
        <input
          type="text"
          id="username"
          name="username"
          class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
          required
          placeholder="Enter your username"
        />
      </div>

      <div class="mb-6">
        <label for="password" class="block text-gray-700 text-sm font-bold mb-2"
          >Password</label
        >
        <input
          type="password"
          id="password"
          name="password"
          class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
          required
          placeholder="Enter your password"
        />
      </div>

      <div class="flex items-center justify-between mb-6">
        <div class="flex items-center">
          <input
            id="remember"
            type="checkbox"
            class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"
          />
          <label for="remember" class="ml-2 block text-sm text-gray-700">
            Remember me
          </label>
        </div>
      </div>

      <div>
        <button
          type="submit"
          class="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition"
        >
          Sign In
        </button>
      </div>
    </form>

    <div class="mt-8 text-center text-sm text-gray-600">
      <p>Default credentials are provided for demonstration purposes only.</p>
      <p class="mt-1">
        For security, please change the default password after initial login.
      </p>
    </div>
  </div>
</div>

<!-- Add this script to the bottom of your login.ejs file -->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    console.log("Login page loaded");

    // Check for cookies
    console.log("Current cookies:", document.cookie);

    // Add a timestamp to prevent caching
    const form = document.querySelector("form");
    form.addEventListener("submit", function (e) {
      console.log("Form submitted");

      // Add a hidden field with timestamp to prevent browser caching
      const hiddenField = document.createElement("input");
      hiddenField.type = "hidden";
      hiddenField.name = "timestamp";
      hiddenField.value = Date.now();
      this.appendChild(hiddenField);
    });
  });
</script>
